(()=>{var w={headers:{},mergeStrategy:"replace",transitions:!1},P=(e,t)=>{console.error(`You can't use the "morph" merge without first installing the Alpine "morph" plugin here: https://alpinejs.dev/plugins/morph`)};function v(e){e.morph&&(P=e.morph),e.addInitSelector(()=>`[${e.prefixed("target")}]`),e.addInitSelector(()=>`[${e.prefixed("target\\.push")}]`),e.addInitSelector(()=>`[${e.prefixed("target\\.replace")}]`),e.directive("target",(r,{value:n,modifiers:a,expression:l},{evaluateLater:i,effect:s})=>{let d=f=>{let u=a.filter(c=>c==="error"||parseInt(c));u=u.length?u:["xxx"],u.forEach(c=>{c.charAt(0)==="3"&&(c="3xx"),b.set(r,{[c]:{ids:R(r,f),focus:!a.includes("nofocus"),history:a.includes("push")?"push":a.includes("replace")?"replace":!1}})})};if(n==="dynamic"){let f=i(l);s(()=>f(d))}else d(l)}),e.directive("headers",(r,{expression:n},{evaluateLater:a,effect:l})=>{let i=a(n||"{}");l(()=>{i(s=>{b.set(r,{headers:s})})})}),e.addInitSelector(()=>`[${e.prefixed("merge")}]`),e.directive("merge",(r,{value:n,modifiers:a,expression:l},{evaluateLater:i,effect:s})=>{let d=f=>{b.set(r,{strategy:f||w.mergeStrategy,transition:w.transitions||a.includes("transition")})};if(n==="dynamic"){let f=i(l);s(()=>f(d))}else d(l)}),e.magic("ajax",r=>async(n,a={})=>{let l=x(R(r,a.targets||a.target));l=a.sync?E(l):l;let i=C(r),s=Object.assign({},w.headers,a.headers||{}),d=a.method?a.method.toUpperCase():"GET",f=a.body;try{let u=await L(r,l,n,i,s,d,f),c="history"in a?a.history:!1,o="focus"in a?a.focus:!0;return k(u,r,l,c,o)}catch(u){if(u.name==="AbortError")return;throw u}});let t=[];e.ajax={start(){t.length||(t.push(M("submit",N)),t.push(M("click",G)))},stop(){t.forEach(r=>r()),t=[]}},e.ajax.start()}v.configure=e=>(w=Object.assign(w,e),v);var $=v,b={store:new WeakMap,set(e,t){this.store.has(e)?this.store.set(e,Object.assign(this.store.get(e),t)):this.store.set(e,t)},get(e){return this.store.get(e)||{}},has(e){return this.store.has(e)}};async function G(e){if(e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;let t=e?.target.closest("a[href]:not([download]):not([noajax])");if(!t||!b.has(t)||t.isContentEditable||t.origin!==window.location.origin||t.getAttribute("href").startsWith("#")||S(t,window.location)&&t.hash)return;e.preventDefault(),e.stopImmediatePropagation();let r=b.get(t),n=r.xxx||{},a=E(x(n.ids)),l=C(t),i=t.getAttribute("href")||l,s=r.headers||{},d=await L(t,a,i,l,s),f=U(r,d);if(f){let o=r[f];(!o.ids.includes("_self")||!d.redirected||!S(new URL(d.url),window.location))&&(a.forEach(h=>h.removeAttribute("aria-busy")),n=o,a=E(x(n.ids)))}let u=n.history,c=n.focus??!0;try{return await k(d,t,a,u,c)}catch(o){if(o.name==="RenderError"){console.warn(o.message),window.location.href=t.href;return}throw o}}async function N(e){if(e.defaultPrevented)return;let t=e.target,r=e.submitter,n=(r?.getAttribute("formmethod")||t.getAttribute("method")||"GET").toUpperCase();if(!t||!b.has(t)||n==="DIALOG"||r?.hasAttribute("formnoajax")||r?.hasAttribute("formtarget")||t.hasAttribute("noajax")||t.hasAttribute("target"))return;e.preventDefault(),e.stopImmediatePropagation();let a=b.get(t),l=a.xxx||{},i=E(x(l.ids)),s=C(t),d=t.getAttribute("action")||s,f=a.headers||{},u=new FormData(t),c=t.getAttribute("enctype");r&&(c=r.getAttribute("formenctype")||c,d=r.getAttribute("formaction")||d,r.name&&u.append(r.name,r.value));let o=await K(r,()=>L(t,i,d,s,f,n,u,c)),h=U(a,o);if(h){let p=a[h];(!p.ids.includes("_self")||!o.redirected||!S(new URL(o.url),window.location))&&(i.forEach(j=>j.removeAttribute("aria-busy")),l=p,i=E(x(l.ids)))}let A=l.history,m=l.focus??!0;try{return await k(o,t,i,A,m)}catch(p){if(p.name==="RenderError"){console.warn(p.message),t.setAttribute("noajax","true"),t.requestSubmit(r);return}throw p}}function M(e,t){let r=async a=>{try{await t(a)}catch(l){if(l.name==="AbortError")return;throw l}},n=()=>{document.removeEventListener(e,r,!1),document.addEventListener(e,r,!1)};return document.addEventListener(e,n,!0),()=>document.removeEventListener(e,n,!0)}async function K(e,t){if(!e)return await t();let r=a=>a.preventDefault();e.setAttribute("aria-disabled","true"),e.addEventListener("click",r);let n;try{n=await t()}finally{e.removeAttribute("aria-disabled"),e.removeEventListener("click",r)}return n}var H={store:new Map,abort(e){if(this.store.has(e)){let t=this.store.get(e);t.controller.abort(),t.target.removeAttribute("aria-busy")}},set(e,t,r){this.abort(e),t.querySelectorAll("[aria-busy]").forEach(n=>this.abort(n.getAttribute("id"))),this.store.set(e,{target:t,controller:r}),t.setAttribute("aria-busy","true")}},y=new Map;async function L(e,t,r,n,a,l="GET",i=null,s="application/x-www-form-urlencoded"){if(!g(e,"ajax:before"))throw new DOMException("[ajax:before] aborted","AbortError");let d=new AbortController,f=[];t.forEach(o=>{let h=o.getAttribute("id");H.set(h,o,d),f.push(h)});let u;if(l==="GET"&&y.has(r))u=y.get(r);else{a["X-Alpine-Target"]=f.join("  "),a["X-Alpine-Request"]="true",a=Object.assign({},w.headers,a),i=i?W(i):null;let o={action:r,method:l,headers:a,body:i,referrer:n,enctype:s,signal:d.signal};g(e,"ajax:send",o),o.body&&(o.method==="GET"?(o.action=B(o.body,o.action),o.body=null):o.enctype!=="multipart/form-data"&&(o.body=q(o.body))),u=fetch(o.action,o).then(async h=>(h.html=await h.text(),h)),y.set(r,u)}let c=await u;return y.delete(r),c.ok?(c.redirected&&(g(e,"ajax:redirect",c),y.set(c.url,u),setTimeout(()=>{y.delete(c.url)},10)),g(e,"ajax:success",c)):g(e,"ajax:error",c),g(e,"ajax:sent",c),c}function W(e){if(e instanceof FormData)return e;if(e instanceof HTMLFormElement)return new FormData(e);let t=new FormData;for(let r in e)typeof e[r]=="object"?t.append(r,JSON.stringify(e[r])):t.append(r,e[r]);return t}function B(e,t){return t=new URL(t,document.baseURI),t.search=q(e).toString(),t.toString()}function q(e){let t=Array.from(e.entries()).filter(([r,n])=>!(n instanceof File));return new URLSearchParams(t)}async function k(e,t,r,n,a){if(!e.html){r.forEach(u=>u.removeAttribute("aria-busy"));return}n&&X(n,e.url);let i=document.createRange().createContextualFragment("<template>"+e.html+"</template>").firstElementChild.content,s=!a,d=r.map(async u=>{if(u===document){window.location.href=e.url;return}let c=u.getAttribute("id"),o=i.getElementById(c),h=b.get(u)?.strategy??w.mergeStrategy;if(!o){if(u.matches("[x-sync]")||!g(t,"ajax:missing",{target:u,response:e}))return;if(e.ok)return u.remove();throw new I(u,e.status)}let A=async()=>{let m=await V(h,u,o);if(m){m.dataset.source=e.url,m.removeAttribute("aria-busy");let p=["[x-autofocus]","[autofocus]"];for(;!s&&p.length;){let j=p.shift();m.matches(j)&&(s=O(m)),s=s||Array.from(m.querySelectorAll(j)).some(_=>O(_))}}return g(m,"ajax:merged"),m};if(g(u,"ajax:merge",{strategy:h,content:o,merge:A}))return A()}),f=await Promise.all(d);return g(t,"ajax:after",{response:e,render:f}),f}async function V(e,t,r){let n={before(i,s){return i.before(...s.childNodes),i},replace(i,s){return i.replaceWith(s),s},update(i,s){return i.replaceChildren(...s.childNodes),i},prepend(i,s){return i.prepend(...s.childNodes),i},append(i,s){return i.append(...s.childNodes),i},after(i,s){return i.after(...s.childNodes),i},morph(i,s){return P(i,s),document.getElementById(s.getAttribute("id"))}};if(!b.get(t)?.transition||!document.startViewTransition)return n[e](t,r);let a=null;return await document.startViewTransition(()=>(a=n[e](t,r),Promise.resolve())).updateCallbackDone,a}function O(e){return!e||!e.getClientRects().length?!1:(setTimeout(()=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.focus()},0),!0)}function X(e,t){return{push:()=>window.history.pushState({__ajax:!0},"",t),replace:()=>window.history.replaceState({__ajax:!0},"",t)}[e]()}function R(e,t=null){let r=[e.getAttribute("id")];if(t&&(r=Array.isArray(t)?t:t.split(" ")),r=r.filter(n=>n),r.length===0)throw new T(e);return r}function x(e=[]){return e.map(t=>{let r=["_self","_top"].includes(t)?document:document.getElementById(t);if(!r)throw new D(t);return r})}function E(e){return document.querySelectorAll("[x-sync]").forEach(t=>{let r=t.getAttribute("id");if(!r)throw new IdNotFoundError(t);e.some(n=>n.getAttribute("id")===r)||e.push(t)}),e}function U(e,t){let r=t.redirected?"3xx":t.status.toString();return[r,r.charAt(0)+"xx",t.ok?"":"error"].find(n=>n in e)}function C(e){return e.closest("[data-source]")?.dataset.source||window.location.href}function g(e,t,r){return e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}function S(e,t){return F(e.pathname)+e.search===F(t.pathname)+t.search}function F(e){return e.replace(/\/$/,"")}var T=class extends DOMException{constructor(t){let r=(t.outerHTML.match(/<[^>]+>/)??[])[0]??"[Element]";super(`${r} is missing an ID to target.`,"IDError")}},D=class extends DOMException{constructor(t){super(`Target [#${t}] was not found in current document.`,"TargetError")}},I=class extends DOMException{constructor(t,r){let n=t.getAttribute("id");super(`Target [#${n}] was not found in response with status [${r}].`,"RenderError")}};document.addEventListener("alpine:initializing",()=>{$(window.Alpine)});})();